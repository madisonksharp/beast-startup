# functions in madison > .zshrc

connect2buddy() {
ssh -i ~/Downloads/madskey.pem ubuntu@buddysystem.click
}

my-deploy(){
./deployFiles.sh -k ~/Downloads/madskey.pem -h buddysystem.click -s $1
}

my-deploy-service(){
./deployService.sh -k ~/Downloads/madskey.pem -h buddysystem.click -s $1
}

## Markup script

# headings

1 - 6 # before the heading text for the heading. the number of # is the level

# styling text

**This is Bold text**
**This is bold text**

_This text is Italicized_

~~This was mistaken text~~

**bold and _nested_ italic**

**_All Bold and Italic_**

This is a <sub>subscript</sub> text

This is a <sup>superscript</sup> text

<!-- Quoting text -->

Quote text is indented with a different type of color. you can quote text with a >

ex

> this is a Quote

<!-- Quoting Code -->

use git status to list all new or modified files that havent yet been committed

use backtics `#RRGGBB`

<!-- Links-->

[Link Name](link)

<!-- Images-->

! [image description](link)

<!-- Lists-->

unordered list

- item 1

* item 2

- item 3

ordered list

1. item 1
1. item 2
1. item 3

Nested list

1. first

- next
  - next

## Dev Essentials

- Intro
  - Well rounded engineers
    - Capable
    - creative
    - collaborative
    - curious
- Git
  - Allows you to track versions of files in a directory
  - Handling merging conflicts
    - open test.md in an editor
  - forks
    - allows you to crete a copy
- History of web programming
  - 3 phases in history
    1. formation of the internet that supports the comm of web apps
    1. the creation of HTML and HTTP making it possible to share hyperlinked docs
    1. Creation of CSS and JavaScript to enable interactive web apps
- Technology Stack
  - Tech Stack = collection of technologies you use to create or deliver your web app.
    - top of the stack is the web framework
      - then backend services zB caching, database, logging, monnitoring
- **AWS**

## HTTP

- HTTP = Hypertext Transfer Protocol
  - HTTP is a protocol used for transferring hypertext requests and information on the World Wide Web. It's the foundation of data communication on the internet.
- _Client-Server model_
  - The client sends an HTTP request to the server, which then responds with the requested resource (such as a webpage or a file).
- HTTP is stateless, meaning that each request from a client to a server is independent and unrelated to any previous requests. The server doesn't retain information about past requests.
- HTTP operates through a request-response cycle. A client (usually a web browser) sends an HTTP request to a server specifying the desired action, such as retrieving a webpage. The server then processes the request and sends back an HTTP response containing the requested resource, along with an appropriate status code.
- HTTP can be augmented with security protocols like HTTPS (HTTP Secure), which encrypts data exchanged between the client and server, providing a secure channel for communication.

### Caddy

Is a web service that listens for incoming HTTP requests. Then serves up the requested static files or routes to another web service - is called a gateway or reverse proxy

- basically a really smart sign maker. helps your site get notices on the internet by making it easy for people to find and access it.
- easy setup : you tell it what the site is called and where it is located
- automatic : does a lot of the work automatically so the website is fast, safe and reliable
- security : is a security guard for the site
- fast delivery: helps the website deliver its content fast
- flexible: Adapts to different situations so useful lots
- **Important Caddy Files**
  - Configuration file : ~/Caddyfile
    - contains definitions for routing HTTP requests recieved
    - to determine location where static HTML files are loaded from.
  - HTML files: ~/public_html
    - directory of files caddy serves up when requests are made

### HTTPS, TLS and Web Certificates

- HTTPS: Secure version of HTTP
- makes sure that the data being exchanged is encrypted

### TLS

Transport layer Security

- establishes a secure connection btw your browser and web server BEFORE any data is exchanged

### Web certificates

Generated by a trusted 3rd party using public/private key enctryption

- certificate issuer verifies that cert owner actually owns the domain name on cert.

**Shell into production environment**

- is like a magic portal allowing you to step into the place where everything important happens
- Why tho?
  - sometimes you need to make changes or fix things directly in the production environment. allows you to troubleshoot issues without disrupting the live service

## Console Commands

### Basic built in terminal commands

echo - Output the parameters of the command
cd - Change directory
mkdir - Make directory
rmdir - Remove directory
rm - Remove file(s)
mv - Move file(s)
cp - Copy files
ls - List files
curl - Command line client URL browser
grep - Regular expression search
find - Find files
top - View running processes with CPU and memory usage
df - View disk statistics
cat - Output the contents of a file
less - Interactively output the contents of a file
wc - Count the words in a file
ps - View the currently running processes
kill - Kill a currently running process
sudo - Execute a command as a super user (admin)
ssh - Create a secure shell on a remote computer
scp - Securely copy files to a remote computer
history - Show the history of commands
ping - Check if a website is up
tracert - Trace the connections to a website
dig - Show the DNS information for a domain
man - Look up a command in the manual

- **$1, $2,...**: reprsents first, second, etc parameters passed to a command
- ~ represents home directory
  | - Take the output from the command on the left and pipe, or pass, it to the command on the right
  > - Redirect output to a file. Overwrites the file if it exists
  >   > - Redirect output to a file. Appends if the file exists

Keystrokes
CTRL-R - Use type ahead to find previous commands
CTRL-C - Kill the currently running command

++y -
y++ -

### DNS (Domain Name System )

a decentralized naming system for computers, services, or any resource connected to the Internet. It translates domain names (e.g., example.com) into IP addresses, making it easier to access resources on the internet.

- Domain names are organized hierarchically, with each level separated by dots. For example, in the domain name "www.example.com":
  - "com" is the top-level domain (TLD).
  - "example" is the second-level domain.
  - "www" is the subdomain.

## HTML (Hypertext Markup Language)

the skeleton of a web application

- originally designed to be a publishing format fro web docs

### Elements and tags

html - represents the top level pg structure

- html
  - head
    - title
  - /head
    - body
  - main
    - p
  - /main
  - body
- html

### attributes

- id: gives unique ID to element
- class: designates element into a named group of elements

- a: defines a hyperlink
  - a href="url"> name of hyperlink text

element meaning
html: The page container
head: Header information
title: Title of the page
meta: Metadata for the page such as character set or viewport settings
script: JavaScript reference. Either a external reference, or inline
include External content reference
body: The entire content body of the page
header: Header of the main content
footer: Footer of the main content
nav: Navigational inputs
main: Main content of the page
section: A section of the main content
aside: Aside content from the main content
div: A block division of content
span: An inline span of content
h<1-9>: Text heading. From h1, the highest level, down to h9, the lowest level
p: A paragraph of text
b: Bring attention
table: Table
tr: Table row
th: Table header
td: Table data
ol,ul: Ordered or unordered list
li: List item
a: Anchor the text to a hyperlink
img: Graphical image reference
dialog: Interactive component such as a confirmation
form: A collection of user input
input: User input field
audio: Audio content
video: Video content
svg: Scalable vector graphic content
iframe: Inline frame of another HTML page

### Special characters

& & amp;
< & lt;
greater than & gt;
" & quot;
' & apos;
üòÄ & #128512;

### input elements

- form: input container and submission
  - form action="form.html" method = "post"
- Fieldset: labeled input grouping
- input: multiple types of user input
- select: selection dropdown
- optgroup: grouped selection dropdown
- option: sleected option
- textarea: multiline text input
- label
- output
- meter: display value within known range

- pattern: when used provides a regular expression that must match for input t be valid

### Canvas element

#### deploying to production

- Use the deployFiles.sh script found in the example code to deploy Simon to your production environment. Take some time to understand how the script works. The script does three things. Deletes any previous deployment for simon, copies up all of the files found in the project directory, and makes sure Caddy is hosting the files under the simon subdomain of your domain (e.g. simon.yourdomain.click).

## CSS

Flex is used to delimit the header, main, and footer elements. This makes them responsive to different screen sizes.
The use of absolute positioning relative to the parent element for the game controls.
The selection based on class attributes to style elements.
The override of Bootstrap in order to keep the menu from changing the flex direction to column on small screens.
The use of @media selectors to hide content when the screen is too small.

makes the skeleton prettier

### CSS box model

![Box model](images/Screenshot%202024-02-26%20at%2014.58.59.jpeg)

### 3 ways to associate CSS with HTMl

1. use style attribute and assign a declaration

   - style = "color:green" etc

1. HTML style element to define the rules within the HTML doc
1. link element

### CSS Selectors

**Combinators**

- descendant
  - body section
    - any section that is a descendant of a body
- child
  - section (greater than) P
    - any p that is a direct child of a section
- general sibling
  - div ~ p
    - any p that has a div sibling
- Adjacent sibling
  - div +p
    - any p that has an adjacent sibling

**Class Selector**

- .summary
- p.summary
  **ID Selector**
- #physics
  **Attribute selector**
- p[class='summary
  **pseudo Selector**
- section:hover

### Declarations

The ones I dont know

- cursor : sets cursor to display when hovering over element

### units

px pixels
pt num points
% percentage of parent element
em a multipliet of the width of the letter m in parents font

### Fonts

**font families**

1. Serif: Small stroke on ends of character
1. sans-serif: no extra stroke
1. fixed: characters all same size
1. symbol : non-language characters

**Importing fonts**
@ font-face {
font-family: '
src: (url)
}

open source fonts from google

@ import (url)

### Animation

@ keyframes name of animation {
from {

}
to {

}
}

### responsive design

**display**
none, block, inline, flex, grid
**media queries**
@ media

- to tell us which side of the viewport is the longest.
  to move stuff around with smaller and bigger screens

### Grid

useful when you want to display a group of child elements in a responsive grid

- container element

### Flexbox

display: flex;

- Useful when you want to partition your application into areas that responsively move around as the window resizes or the orientation changes.

### Frameworks

- Tailwind
- Bootstrap
  - reference the url

## JavaScript

Javascript Intro
JavaScript is a weakly typed language based on concepts in C, Java and Scheme.

- Typically JS is executed using an interpreter at runtime instead of compiling it into a machine specific binary at build time.
- Makes it very portable'
- But allows for many errors

### Getting Started

- Console.log('Hello' + ' ' + 'world');
  - Console.log is the runtime built in function to output the string into the debugger console
- Can write functions
  - Function join(a,b){
    Return a + ' ' +b;
    }
- Comments
  - // line comment
  - /_ block comment _/

### JavaScript Console

- JS console object provides interaction with JS runtimes debugger console

- Log
  - The usage of the console object is to output a log message
    - Console.log('hello');
  - Output: hello
    - Can create formatted messages in the log parameter - Console.log('hello %s', 'world');
      - Output: hello world
- Timers
  To see how long a piece of code is running wrap it with time and timeend
  -
  - Console.time('demo time');
  - Console.timeEnd('demo time');
- Count
  ‚óã See how many times a block of code is called use count fucntion
  ¬ß Console.count('a');

### Adding JavaScript to HTML

- Insert either by putting directly into HTML within a <script> element or using src attribute to reference external JS file

JavaScript type and construct

- Declaring variables
  - Variables aare declared using either let or const
  - Let x = 1;
  - Allows you to change value
    - Const y = 2;
  - Const will cause an error if you attempt to change it
    - Avoid using var
- Type
  - Javascript doesn‚Äôt enforce the declaration of a variable before use
  - Null
    Type of variable that has not been assigned a value
  - Undefined: Not been defined
  - Boolean: True or false
  - Number: 64 bit signed number
  - BigInt: Number of arbitrary magnitude
  - String: Textual sequence of characters
  - Symbol: Unique value
  - Object: Collection of properties represented by name value pairs
  - Function: Object that has the ability to be called :
  - Date: Calendar dates and times: new Date('1995-12-17')
  - Array: An ordered sequence of any type
  - Map: Collection of key value pairs that support efficient lookups
    - New Map()
  - JSON: A lightweight data-interchange format used to share informationa ccross programs
- Common operators

  - +(add)
  - Subtract -
  - Multiply \*
  - Divide /
  - === equality

- Type conversions
  - Strict equality === is preferred
- Conditionals
  - If, else and if else
  - Ternary operator
    - A === 1 ? Console.log(1) : console.log('not 1');
  - Boolean operations in expression
    - && (and)
    - || (or)
    - ! (not)
  - Example
    If (true && (!false || true)){
    }
- Loops
  - For
    - For (let i=0, i<2; i++){
      Console.log(i);
  - Do while
  - For in
  - For of
  - While
  - Switch
  - Break and continue

### JavaScript String

- Strings are specified by putting letters with ' , ", or `

- Unicode support
  - JavaScript supports unicode by defining a string
- String functions
  - Length
  - indexOf()
  - Split()
  - startsWith()
  - endsWith()
  - toLowerCase()

### Functions

- In JS functions are first class objects
  That means they can be assigned a name, passed as a parameter, returned as a result, and referenced from an object or array like any other variable
- Basic syntax
  - Function nameoffunction (){
    }
- Function parameters
  - When a function is called the caller may choose parameters
    - If parameter is not provided then value is undefined

### JavaScript Arrow Function

- To make the code more compact, the arrow syntax was created.
  - Arrow replaces the need for the function keyword with the symbols => after the parameter declaration
  - This is a function that takes no parameters and always returns 3
    ¬ß () => 3;
- Return values
  - Arrow functions have special rules for the return keyword

### Arrays

- Object functions
  - push : add an item to the end of the array- a.push()
  - pop : remove an item from the end of the array - x = a.pop()
  - slice: return a sub-array - a.slice(1,-1)
  - sort: run a function to sort an array in place - a.sort((a,b)=> b-a)
  - values: Creates an iterator for use with a for of loop- a.values..
  - find: find first item satisfied by a test function
  - forEach: run a function on each array item
  - reduce
  - map
  - filter
  - every
  - some

### this pointer

- all about scope
  closure

### JSON (JavaScript Object Notation)

- contains an object
  - provides a simple and effective way to share and store data

Example of a JSON doc
{
"class": {
"title": "web programming",
"description": "Amazing"
},
"enrollment": ["Marco", "Jana", "ŸÅŸéÿßÿ∑ŸêŸÖŸéÿ©"],
"start": "2025-02-01",
"end": null
}

### COnverting to JavaScript

- convert to and from javaScript using JSON.parse and JSON.stringify

- JSON.stringify(obj); - make an object a string
  JSON.parse- make string into obj
-

### JavaScript Object and classes

Objects have common object oriented functionality

- Constructors
- a this pointer
- static properties
- functions
- inheritance

#### Objects

const pet = new Pet ({Name:"bob"});
pet['type'] = "fish";
pet.sound= [1, 2, 3];
pet.hello = function (){
console.log(Name, 'barks');
};

pet.hello();
OUTPUT: Bob barks

#### Object-Literals

- Syntax allows you to provide the initial composition of the object
  const pet = {
  name:"bob",
  age: 5,

  }
  Basically a shorthand

- objects can be created with the new operator

#### object functions

- entries: returns an array of key value pairs
- keys: returns an array of keys
- values: returns and array of

#### Constructor

Function that returns and object

function Person(name) {
return {
name: name,
log: function () {
console.log('My name is ' + this.name);
},
};
}

const p = new Person('Eich');
p.log();
// OUTPUT: My name is Eich

#### Regex

#### Rest

-

#### Exceptions

errors happen. exceptions are errors

think of how crazy users are going to use it

allows you to plan for the use cases

### DOM

- parses it into a structure

## Async/await

## HTTP

### Ports and protocols

- 20: File Transfer Protocol (FTP) for data transfer
- 22: Secure Shell (SSH) for connecting to remote devices
- 25: Simple Mail Transfer Protocol (SMTP) for sending email
- 53:Domain Name System (DNS) for looking up IP addresses
- 80: Hypertext Transfer Protocol (HTTP) for web requests
- 110: Post Office Protocol (POP3) for retrieving email
- 123: Network Time Protocol (NTP) for managing time
- 161: Simple Network Management Protocol (SNMP) for managing network devices such as routers or printers
- 194: Internet Relay Chat (IRC) for chatting
- 443: HTTP Secure (HTTPS) for secure web requests

- **HTTP** stands for Hypertext Transfer Protocol. It's a language computers use to communicate over the internet, like sending requests for web pages.

### Client and Server:

- **Client:** Your computer or phone.
- **Server:** The computer hosting a website.

### Request-Response Cycle:

1. You send an HTTP request to the server.
2. The server processes the request and sends back an HTTP response.
3. Your browser interprets the response and displays the webpage.

### Parts of an HTTP Request:

- **URL:** Address of the webpage.
- **Method:** Indicates what action you want to perform (e.g., GET, POST).
- **Headers:** Additional information about the request.
- **Body:** Optional data sent to the server.

### Parts of an HTTP Response:

- **Status Code:** Indicates if the request was successful or encountered an error.
- **Headers:** Additional information from the server.
- **Body:** Content of the webpage.

### HTTP Methods:

- **GET:** Retrieve a webpage.
- **POST:** Send data to the server.
- **PUT:** Store data on the server.
- **DELETE:** Delete data from the server.

### HTTP vs. HTTPS:

- **HTTPS:** Secure version of HTTP that encrypts data for added security.

### TCP/IP layers

- application, HTTPS, functionality like web browsing
- transport, TCP, Moving connection info packets
- Internet, IP, Establishing connections
- Link, Fiber, hardware, physical connections

## HTTP requests

### What is an HTTP Request?

An HTTP request is a message sent from a client (such as a web browser) to a server, requesting information or an action to be performed.

### Parts of an HTTP Request:

1. **URL (Uniform Resource Locator):**

   - Specifies the address of the resource being requested.

2. **Method:**

   - Indicates the type of action the client wants the server to perform. Common methods include:
     - `GET`: Retrieve a resource.
     - `POST`: Submit data to be processed.
     - `PUT`: Update a resource.
     - `DELETE`: Remove a resource.

3. **Headers:**

   - Additional information about the request, such as the type of browser being used or the format of the data being sent.

4. **Body (Optional):**
   - Contains additional data sent with the request. For example, when submitting a form, the form data is included in the request body.

### Example of an HTTP Request:

http
GET /example-page HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,_/_;q=0.8,application/signed-exchange;v=b3;q=0.9
Accept-Encoding: gzip, deflate, br
Connection: keep-alive

### Fetch

The fetch API is the preferred way to make HTTP requests. The fetch function is built into the browser's JavaScript runtime. This means you can call it from JavaScript code running in a browser.

The basic usage of fetch takes a URL and returns a promise. The promise then function takes a callback function that is asynchronously called when the requested URL content is obtained. If the returned content is of type application/json you can use the json function on the response object to convert it to a JavaScript object.

### SOP and CORS

- SOP you can only call to your origin
  CORS : Cross origin resource sharing configuring to allow

#### **Cookies:**

- pieces of data websites store on your computer or device when you visit them. to enhance browser experience, personalize content, track activities.
- contain info like preferences, login credentials, browsing history, other data
- types: session cookies, temp cookies erased when browser closed and persistent cookies remain on device even after closing browser
- Purpose: authentication, personalization, tracking, session management

### Standard HTTP headers

#### Request headers

1. **Accept:** Specifies the types of content the client can accept.
2. **User-Agent:** Identifies the type of browser or user agent making the request.
3. **Host:** Indicates the host name and port number of the requested resource.
4. **Authorization:** Contains credentials for authenticating the client with the server.
5. **Content-Type:** Specifies the media type of the data sent in the request body (for POST and PUT requests).

#### response headers

1. **Content-Type:** Indicates the media type of the content sent in the response body.
2. **Content-Length:** Specifies the length of the response body in bytes.
3. **Cache-Control:** Directives for caching mechanisms in both requests and responses.
4. **Set-Cookie:** Sets a cookie in the client's browser with information for subsequent requests.
5. **Location:** Specifies the URL to redirect the client to (used in redirection responses like 301 and 302).

#### General Headers

1. **Date:** Specifies the date and time when the message was sent.

2. **Connection:** Controls whether the network connection stays open after the current transaction finishes.
3. **Content-Encoding:** Specifies the encoding applied to the response body (e.g., gzip, deflate).
4. **Transfer-Encoding:** Specifies the form of encoding used to transfer the payload in chunks.
5. **Access-control-allow-origin** Server response of what origins can make a request. May include a wildcard

### HTTP Status Codes

#### 1xx Informational

- **100 Continue:** The server has received the initial part of the request and is waiting for the client to continue.
- **101 Switching Protocols:** The server is switching protocols as requested by the client (e.g., upgrading to WebSocket).

#### 2xx Success

- **200 OK:** The request was successful.
- **201 Created:** The request has been fulfilled, resulting in the creation of a new resource.
- **204 No Content:** The server successfully processed the request but does not need to return any content.

#### 3xx Redirection

- **301 Moved Permanently:** The requested resource has been permanently moved to a new location.
- **302 Found (or Moved Temporarily):** The requested resource has been temporarily moved to a different location.
- **304 Not Modified:** The client's cached copy of the resource is still valid, and the server has not modified it.
- **307 Permanent Redirect**
- **308 Temporary Redirect**

#### 4xx Client Error

- **400 Bad Request:** The server cannot process the request due to a client error (e.g., malformed syntax).
- **401 Unauthorized:** The request requires user authentication.
- **403 Forbidden:** The server understood the request but refuses to authorize it.
- **404 Not Found:** The requested resource could not be found on the server.
- **408 Request Timeout**
- **409 Conflict**
- **418 I'm a teapot**
- **429 too many requests**

#### 5xx Server Error

- **500 Internal Server Error:** The server encountered an unexpected condition that prevented it from fulfilling the request.
- **502 Bad Gateway:** The server, while acting as a gateway or proxy, received an invalid response from the upstream server.
- **503 Service Unavailable:** The server is currently unable to handle the request due to temporary overload or maintenance.

### package.json

1.  Metadata about your project such as its name and the default entry JavaScript file
2.  commands (scripts) that you can execute to do things like run, test, or distribute your code
3.  packages that this project depends upon.

## Web services

### Express

provides support for:

1. Routing requests for service endpoints
2. Manipulating HTTP requests with JSON body content
3. Generating HTTP responses
4. using middleware to add functionality

#### middleware

- A middleware function follows this pattern : function middlewareName(req, res, next)

### Endpoints (API)

- web service is divided up into multiple service endpoints. each endpoint provides a single functional purpose.

### Types of Web Services:

1. **SOAP (Simple Object Access Protocol):**

   - A protocol for exchanging structured information in the implementation of web services.
   - Uses XML (Extensible Markup Language) for message format and relies on other protocols like HTTP, SMTP, or FTP for communication.
   - Often used in enterprise environments for integration between different systems.

2. **REST (Representational State Transfer):**

   - An architectural style for designing networked applications.
   - Utilizes the HTTP protocol for communication and typically relies on simple, stateless interactions between clients and servers.
   - Uses standard HTTP methods like GET, POST, PUT, DELETE to perform CRUD (Create, Read, Update, Delete) operations on resources.
   - Emphasizes scalability, simplicity, and performance.

3. **GraphQL:**
   - A query language for APIs (Application Programming Interfaces) developed by Facebook.
   - Allows clients to request only the data they need, minimizing over-fetching and under-fetching issues common in REST APIs.
   - Provides a single endpoint for fetching data, enabling clients to specify the structure of the data they require in a query.

### Web Server

#### Daemon

- In order to keep programs running after a shutdown you need to register it as a daemon. The term daemon comes from the idea of something that is always there working in the background. Hopefully you only have good daemons running in your background.
- PM2

- A computing device that is hosting a web service that knows how to accept incoming internet connections and speak the http protocol

##### Key characteristics of Linux daemons include:

1. Background Process: Daemons operate in the background, meaning they do not require user interaction or a graphical interface to function. They typically run as system processes without any visible user interface.
2. Autostart: Daemons are often configured to start automatically when the system boots up. This ensures that the services they provide are available as soon as the system becomes operational.
3. Long-Running: Daemons are designed to run continuously, monitoring system events, responding to requests, or performing scheduled tasks as required. They are not terminated when a user logs out of the system.
4. System Services: Daemons provide various system-level services, such as network services (e.g., web servers, FTP servers), system monitoring (e.g., logging daemons), and hardware management (e.g., device drivers).

###### Examples of common Linux daemons include:

- sshd: The SSH daemon provides secure shell access to the system for remote administration and file transfer.
- httpd: The HTTP daemon is responsible for serving web pages and content over the HTTP protocol, typically using a web server like Apache or Nginx.
- cron: The cron daemon is responsible for executing scheduled tasks or commands at specified intervals.

- You can now access your subdomain in the browser and see the proper response. PM2 will keep running your service even after you exit your SSH session.

#### Key Components of a Web Server:

1. **HTTP Server:** Handles incoming HTTP requests from clients and sends back HTTP responses containing the requested content.
2. **File System:** Stores the web content (HTML files, images, CSS, JavaScript, etc.) that the server serves to clients.
3. **Configuration Files:** Define settings and parameters for the web server, such as port number, virtual hosts, and security settings.
4. **Logging Mechanism:** Records information about incoming requests, server errors, and other events for monitoring and troubleshooting purposes.
5. **Security Features:** Implements security measures to protect against unauthorized access, denial-of-service attacks, and other security threats.

#### Basic Workflow of a Web Server:

1. **Listen for Incoming Requests:** The web server listens on a specified port (usually port 80 for HTTP or port 443 for HTTPS) for incoming requests from clients.
2. **Process Requests:** When a request is received, the server processes it by determining the requested resource and any additional parameters (e.g., query strings).
3. **Retrieve Resources:** The server retrieves the requested resources from the file system or generates dynamic content using server-side scripting languages (e.g., PHP, Python).
4. **Generate Response:** Once the resources are obtained, the server constructs an HTTP response containing the requested content, status code, and headers.
5. **Send Response:** The server sends the HTTP response back to the client over the network.
6. **Log Events:** The server logs information about the request, response, and server-side events for monitoring, analysis, and troubleshooting.

### Uploading Files

#### frontend code

#### BACKEND code

Multer handles reading the file from the HTTP request, enforcing the size limit of the upload, and storing the file in the uploads directory. Additionally our service code does the following:

1. Handles requests for static files so that we can serve up our frontend code.
2. Handles errors such as when the 64k file limit is violated.
3. Provides a GET endpoint to serve up a file from the uploads directory.

## Domain Names

### What is a Domain Name?

A domain name is a human-readable address used to identify and access websites on the internet. It provides a memorable and meaningful way to locate specific web resources, such as websites, web pages, or email servers.

### Components of a Domain Name:

1. **Top-Level Domain (TLD):**

   - The highest level in the domain name hierarchy.
   - Examples include `.com`, `.org`, `.net`, `.edu`, and country-code TLDs like `.us`, `.uk`, and `.de`.

2. **Second-Level Domain (SLD):**

   - The part of the domain name that precedes the top-level domain.
   - Represents the name of the organization, business, or entity.
   - For example, in `example.com`, "example" is the second-level domain.

3. **Subdomain:**
   - An optional prefix added to the domain name to create additional addressable sections.
   - Often used to organize and categorize content or create distinct web services.
   - For example, in `blog.example.com`, "blog" is a subdomain of `example.com`.

### Domain Name Registration:

- Domain names are registered through domain registrars, organizations accredited by the Internet Corporation for Assigned Names and Numbers (ICANN) to manage domain registrations.
- Registrants can search for available domain names and register them for a specific period, typically one to ten years, by paying a registration fee.
- Domain registration requires providing accurate contact information and adhering to domain registration policies and regulations.

### Domain Name System (DNS):

- The Domain Name System (DNS) is a distributed system that translates domain names into IP addresses, allowing computers to locate resources on the internet.
- DNS servers maintain databases called DNS zones that store mappings between domain names and IP addresses.
- When a user enters a domain name in a web browser, the browser queries DNS servers to resolve the domain name to the corresponding IP address.

### Domain Name Extensions:

- Domain name extensions, also known as TLDs, can indicate the type, purpose, or geographical location of a website.
- Common generic TLDs include `.com` (commercial), `.org` (organization), `.net` (network), and `.info` (information).
- Specialized TLDs cater to specific industries or interests, such as `.edu` (education), `.gov` (government), and `.io` (technology startups).

### Domain Name Management:

- Domain owners can manage their domain settings, including DNS configuration, email forwarding, and WHOIS privacy, through domain registrar control panels or management interfaces.
- Regular maintenance, renewal, and monitoring of domain registrations are essential to ensure uninterrupted access to web resources and prevent domain expiration.

## Parts of a URL

A URL (Uniform Resource Locator) is a string of characters used to specify the address of a web resource on the internet. It typically consists of several components:

1. **Scheme:**

   - The scheme indicates the protocol used to access the resource. Common schemes include `http://`, `https://`, `ftp://`, `mailto:`, and `file://`.

2. **Hostname:**

   - The hostname (or domain name) identifies the server that hosts the resource. It may include subdomains and the top-level domain (TLD). For example, in `www.example.com`, `www` is a subdomain, and `example.com` is the domain name.

3. **Port (Optional):**

   - The port number specifies the network port used to communicate with the server. If omitted, the default port for the specified scheme is used (e.g., port 80 for HTTP, port 443 for HTTPS).

4. **Path:**

   - The path specifies the location of the resource on the server's filesystem or within the web application. It starts with a forward slash (/) and may consist of multiple segments separated by slashes.

5. **Query Parameters (Optional):**

   - Query parameters provide additional information to the server, typically in the form of key-value pairs. They appear after a question mark (?) and are separated by ampersands (&). For example, `?key1=value1&key2=value2`.

6. **Fragment (Optional):**
   - The fragment identifier specifies a specific section or location within the resource. It appears after a hash symbol (#) and is used primarily in HTML documents to link to specific sections of a webpage.

Here's an example of a URL with all its components:

`plaintext
https://www.example.com:8080/path/to/resource?key1=value1&key2=value2#section1
| | | | | | |
|------|----------|--------|----------|------------------|-------------------|
|Scheme| Hostname| Port | Path | Query Parameters | Fragment |

## Database services

### services and their specialties

- MySQL : relational queries
- Redis: memory cached objects
- ElasticSearch: ranked free text
- MOngoDB: JSON objects
- DynamoDB: Key value pairs
- Neo4J: graph based data
- InfluxDB: time series data

### MONgo DB Query

- lt = less than
- gt = greater than

- /J.\_/: This is a regular expression pattern enclosed in forward slashes (/). In MongoDB, when you use regular expressions in queries, you typically use them to match against string values.
- J.\_: This regular expression pattern means:
- J: Match the letter "J" exactly.
- ._: Match zero or more of any character (except newline). So ._ means match any string of characters.

- // find all houses
- db.house.find();

- // find houses with two or more bedrooms
- db.house.find({ beds: { $gte: 2 } });

- // find houses that are available with less than three beds
- db.house.find({ status: 'available', beds: { $lt: 3 } });

- // find houses with either less than three beds or less than $1000 a night
- db.house.find({ $or: [(beds: { $lt: 3 }), (price: { $lt: 1000 })] });

- // find houses with the text 'modern' or 'beach' in the summary
- db.house.find({ summary: /(modern|beach)/i });

## Authorization services

standard protocols for authenticating and authorizing

#### create authentication endpoint

This takes an email and password and returns a cookie containing the authentication token and user ID. If the email already exists it returns a 409 (conflict) status code.

#### passing authentication tokens

1. httpOnly tells the browser to not allow JavaScript running on the browser to read the cookie.
2. secure requires HTTPS to be used when sending the cookie back to the server.
3. sameSite will only return the cookie to the domain that generated it.

## Websocket

Allows computers talk to eachother quickly and easily. "peer to peer"

### How they work

1. your computer (the client) sends a message to another computer (the server) saying "lets chat using websockets"
2. Once both computers agree they keep the line open.
3. now the comupters can send messages whenevr. they can talk and listen at the same time
4. COnnection closes

### syntax

- send
- onmessage - registers callback
- When connection is detected, it calls the servers on connection callback. thne server can send messages with send function and register callback with on message function to recieve messages
- window.location.protocol : ws non secure. wss secure

###

## Web Application frameworks

Web frameworks seek to make the job of writing web applications easier by providing tools for completing common application tasks. This includes things like modularizing code, creating single page applications, simplifying reactivity, and supporting diverse hardware devices.

Some frameworks take things beyond the standard web technologies (HTML, CSS, JavaScript) and create new hybrid file formats that combine things like HTML and JavaScript into a single file. Examples of this include React JSX, Vue SFC, and Svelte files. Abstracting away the core web file formats puts the focus on functional components rather than files.

## Web Security

### terminology

- Hacking: making a system do stuff its not supposed to do
- Exploit: code or input that takes advantage of a programming or configuration flow
- attack vector: Method an attacker employs to penetrate and exploit a system
- attack surface: exposed parts of a system that an attacker can access
- attack payload: the actual code or data that a hacker delivers to a system to exploit it
- input sanitization: "cleaning: any input of potentially malicious data
- black box testing: testing application without knowledge of the internals of the application
- white box testing: testing application **with** knowledge of the source code and internal infrastructure
- penetration testing: attempting to gain access to, epxloit a system in ways that are not anticipated by developers
- mitigation: action taken to remove or reduce a threat

### Motivation for attackers

- **Disruption** - By overloading a system, encrypting essential data, or deleting critical infrastructure-- destroying normal busines operations. maybe an attempt at extortion or an attemmpt to punish a business the attacker doesnt agree with
- **Data exfiltration** - Privately extracting or publicly exposing a systems data -- embarassing company, exploiting insider info, selling info, or leveraging
- **resource Consumption** - Taking control of company's computing resources to use it for other purposes like mining crypto, gathering customer info or attacking other systems.

### Hacking techniques

- **Injection**: When an application interacts with a database on the backend, a programmer will often take user input and concatenate it directly into a search query. This allows a hacker can use a specially crafted query to make the database reveal hidden information or even delete the database.
- **Cross-site scripting (XSS)** - A category of attacks where an attacker can make malicious code execute on a different user's browser. If successful, an attacker can turn a website that a user trusts, into one that can steal passwords and hijack a user's account.
- **denial of service** - This includes any attack where the main goal is to render any service inaccessible. This can be done by deleting a database using an SQL injection, by sending unexpected data to a service endpoint that causes the program to crash, or by simply making more requests than a server can handle.
- **Credential suffering** - People have a tendency to reuse passwords or variations of passwords on different websites. If a hacker has a user's credentials from a previous website attack, then there is a good chance that they can successfully use those credentials on a different website. A hacker can also try to brute force attack a system by trying every possible combination of password.
- **Social engineering** - Appealing to a human's desire to help, in order to gain unauthorized access or information.

### ways to avoid getting hacked

- **Sanitize input data** - Always assume that any data you receive from outside your system will be used to exploit your system. Consider if the input data can be turned into an executable expression, or can overload computing, bandwidth, or storage resources.
- **Logging** - It is not possible to think of every way that your system can be exploited, but you can create an immutable log of requests that will expose when a system is being exploited. You can then trigger alerts, and periodically review the logs for unexpected activity.
- **traps** - Create what appears to be valuable information and then trigger alarms when the data is accessed.
- **Educate** - Teach yourself, your users, and everyone you work with, to be security minded. Anyone who has access to your system should understand how to prevent physical, social, and software attacks.
- **reduce attack surfaces** - Do not open access anymore than is necessary to properly provide your application. This includes what network ports are open, what account privileges are allowed, where you can access the system from, and what endpoints are available.
- **Layered security** - Do not assume that one safeguard is enough. Create multiple layers of security that each take different approaches. For example, secure your physical environment, secure your network, secure your server, secure your public network traffic, secure your private network traffic, encrypt your storage, separate your production systems from your development systems, put your payment information in a separate environment from your application environment. Do not allow data from one layer to move to other layers. For example, do not allow an employee to take data out of the production system.
- **Least required access policy** - Do not give any one user all the credentials necessary to control the entire system. Only give a user what access they need to do the work they are required to do.
- **Safeguard credentials** - Do not store credentials in accessible locations such as a public GitHub repository or a sticky note taped to a monitor. Automatically rotate credentials in order to limit the impact of an exposure. Only award credentials that are necessary to do a specific task.
- **Public review** - Do not rely on obscurity to keep your system safe. Assume instead that an attacker knows everything about your system and then make it difficult for anyone to exploit the system. If you can attack your system, then a hacker will be able to also. By soliciting public review and the work of external penetration testers, you will be able to discover and remove potential exploits.

### top 10 most importan web security risks and how to mitigate

1. **Broken Access Control** Broken access control occurs when the application doesn't properly enforce permissions on users. This could mean that a non-admin user can do things that only an admin should be able to do, or admin accounts are improperly secured. While browser application code can restrict access by disabling UI for navigating to sensitive functionality, the ultimate responsibility for enforcing access control rests upon the application service.

As an example of broken access control, consider an application where the UI only provides a navigation to the administrator application settings if the user is an administrator. However, the attacker can simply change the URL to point to the application settings URL and gain access. Additionally, unless the service endpoints reject requests to obtain, and update, the application settings, any restrictions that the UI provides are meaningless.

- Mitigations include:

        1. Strict access enforcement at the service level
        2. Clearly defined roles and elevation paths

2. **Cryptographic failures** Cryptographic failures occur when sensitive data is accessible either without encryption, with weak encryption protocols, or when cryptographic protections are ignored.

Sending any unencrypted data over a public network connection allows an attacker to capture the data. Even private, internal, network connections, or data that is store without encryption, is susceptibly to exploitation once an attacker gains access to the internal system.

Examples of ineffective cryptographic methods include hashing algorithms like MD5 and SHA-1 that are trivial to crack with modern hardware and tools.

Another cryptographic failure happens when applications do not validate the provided web certificate when establishing a network connection. This is a case of falsely assuming that if the protocol is secure then the entity represented by the protocol is acceptable.

- Mitigations include:

        1. Use strong encryption for all data. This includes external, internal, in transit, and at rest data.
        2. Updating encryption algorithms as older algorithms become compromised.
        3. Properly using cryptographic safeguards.

3. **Injection** Injection exploits occur when an attacker is allowed to supply data that is then injected into a context where it violates the expected use of the user input. For example, consider an input field that is only expected to contain a user's password. Instead the attacker supplies a SQL database command in the password input.

- Mitigations include:

      - Sanitizing input
      - Use database prepared statements
      - Restricting execution rights
      - Limit output

4. **Insecure Design** Insecure design broadly refers to architectural flaws that are unique for individual systems, rather than implementation errors. This happens when the application team doesn't focus on security when designing a system, or doesn't continuously reevaluate the application's security.

Insecure design exploits are based upon unexpected uses of the business logic that controls the functionality of the application. For example, if the application allows for trial accounts to be easily created, then an attacker could create a denial of service attack by creating millions of accounts and utilizing the maximum allowable usage.

- Mitigations include:

      - Integration testing
      - Strict access control

  - Security education
  - Security design pattern usages
  - Scenario reviews

5. **Security misconfiguration** Security misconfiguration attacks exploit the configuration of an application. Some examples include using default passwords, not updating software, exposing configuration settings, or enabling unsecured remote configuration.

For example, some third party utilities, such as a logging system, will expose a public administration interface that has a default user name and password. Unless that configuration is changed, an attacker will be able to access all of the critical logging information for your application.

- Mitigations include:

      - Configuration reviews
      - Setting defaults to disable all access
      - Automated configuration audits
      - Requiring multiple layers of access for remote configuration

6. **Vulnerable and outdated components** The longer an application has been deployed, the more likely it is that the attack surface, and corresponding exploits, of the application will increase. This is primarily due to the cost of maintaining an application and keeping it up to date in order to mitigate newly discovered exploits.

Outdated components often accumulate as third party packages are used by the application. Over time the packages are updated in order to address security concerns, or somethings the packages stop being supported. When this happens your application becomes vulnerable.

The application developer is warned that the components are vulnerable, but when faced choice of taking the time to update packages, and potentially break the application, or meeting deliverable deadlines, the developer is tempted to ignore the warning and continue without addressing the possible problem.

- Mitigations include:

      - Keeping a manifest of your software stack including versions
      - Reviewing security bulletins
      - Regularly updating software
      - Required components to be up to date
      - Replacing unsupported software

7. **Identification and authentication failures** Identification and authentication failures include any situation where a user's identity can be impersonated or assumed by an attacker. For example, if an attacker can repeatedly attempt to guess a user's password, then eventually they will be successful. Additionally, if passwords are exposed outside of the application, or are stored inside the application, with weak cryptographic protection, then they are susceptible to attack.

Another example of an identification failure would be a weak password recovery process that doesn't properly verify the user. Common practices such as asking for well known security questions (e.g. mother's maiden name) from a user fall into this category.

- Mitigations include:

      - Rate limiting requests
      - Properly managing credentials
      - Multifactor authentication
      - Authentication recovery

8. **Software and data integrity failure**Software and data integrity failures represent attacks that allow external software, processes, or data to compromise your application. Modern web applications extensively use open source and commercially produced packages to provide key functionality. Using these packages without conducting a security audit, gives them an unknown amount of control over your application. Likewise, using a third party processing workflow, or blindly accessing external data, opens you up to attacks.

Consider the use of a third party continuous delivery (CD) pipeline for deploying your application to a cloud provider. If the CD provider is penetrated by an attacker then they also gain access to your production cloud environment.

Another example is the use of an NPM package that is controlled by an attacker. Once the package has gained general acceptance, the attacker can subtly change the package to capture and deliver sensitive information.

- Mitigations include:

      - Only using trusted package repositories
      - Using your own private vetted repository
      - Audit all updates to third party packages and data sources

9. **Security logging and monitoring failures** Proper system monitoring, logging, and alerting is critical to increasing security. One of the first things an attacker will do after penetrating your application is delete or alter any logs that might reveal the attacker's presence. A secure system will store logs that are accessible, immutable, and contain adequate information to detect an intrusion, and conduct post-mortem analysis.

An attacker might also try to create a smoke screen in the monitoring system in order to hide a true attack. This might consist of a barrage of periodic ineffective attacks that hide the insertion of a slightly different effective one.

- Mitigations include:

      - Real time log processing
      - Automated alerts for metric threshold violations
      - Periodic log reviews
      - Visual dashboards for key indicators

10. **Server side request forgery (SSRF)** This category of attack causes the application service to make unintended internal requests, that utilized the service's elevated privileges, in order to expose internal data or services.

For example, if your service exposed an endpoint that let a user retrieve an external profile image based upon a supplied URL, an attacker could change the URL to point to a location that is normally only available to the service internally.

- Mitigations
  - Sanitizing returned data
  - Not returning data
  - Whitelisting accessible domains
  - Rejecting HTTP redirects

## React

React abstracts HTML into a JavaScript variant called JSX. JSX is converted into valid HTML and JavaScript using a preprocessor called Babel. For example, the following is a JSX file. Notice that it mixes both HTML and JavaScript into a single representation.

### Key Concepts

#### 1. Components:

- **Building Blocks:** React applications are built using components, which are like custom HTML elements that encapsulate their own behavior and appearance.
- **Reusability:** Components can be reused throughout the application, making it easy to maintain and scale.

- Render fucntion: whatever is returned from the render fucntion is inserted into the component HTML element

#### 2. JSX (JavaScript XML):

- **HTML in JavaScript:** JSX is a syntax extension for JavaScript that allows you to write HTML-like code directly within your JavaScript code.
- **Component Rendering:** JSX is used to define the structure and appearance of React components.

##### Purposes of JSX

NOT to combine CSS, HTML and Javascript

###### 1. Declarative Syntax

JSX provides a declarative syntax for defining the structure and appearance of UI components. Instead of manually manipulating the DOM with imperative JavaScript, developers can use JSX to describe what the UI should look like in a more intuitive and HTML-like manner.

###### 2. Component Composition

JSX enables the creation and composition of reusable components. Components can be nested within each other, allowing developers to build complex UIs by combining smaller, modular pieces.

###### 3. Embedding Expressions

JSX allows embedding JavaScript expressions within curly braces `{}` directly within the markup. This enables dynamic content rendering and data binding, as values can be interpolated directly into the JSX code.

###### 4. Readability and Maintainability

JSX improves the readability and maintainability of React code by closely resembling HTML markup. Developers, especially those familiar with HTML, find JSX easier to understand and work with compared to alternative templating languages.

###### 5. Tooling Support

JSX is supported by various development tools and libraries, including code editors, syntax highlighters, and static analysis tools. This ecosystem support enhances developer productivity and facilitates the development of React applications.

#### 3. Virtual DOM (Document Object Model):

- **Efficient Updates:** React uses a virtual DOM to represent the UI. Changes to the virtual DOM are efficiently batched and then applied to the real DOM, resulting in improved performance.
- **Reconciliation:** React automatically reconciles the virtual DOM with the real DOM, ensuring that only the necessary updates are made.

#### 4. State and Props:

- **State:** Represents the internal data of a component. Changes to the state trigger re-rendering of the component.
- **Props (Properties):** Allow data to be passed from parent components to child components. Props are immutable and help create dynamic and flexible components.

#### Hooks

- React.useState hook function: returns a variable that contains the current state and a fucntion to update the state.
- useEffect hook function: allows you to represent lifecycle events.

### Getting Started:

#### 1. Installation:

- You can start a new React project using Create React App, a toolchain for creating React applications with no build configuration needed.

#### 2. Component Creation:

- Define your React components using JavaScript classes or functional components.
- Use JSX syntax to define the structure and appearance of your components.

#### 3. Rendering Components:

- Use ReactDOM.render() to render your top-level component into the DOM.
- Components can be nested within each other to create complex UIs.

### Example:

```jsx
import React, { useState } from "react";

const Counter = () => {
  const [count, setCount] = useState(0);

  const increment = () => setCount(count + 1);
  const decrement = () => setCount(count - 1);

  return (
    <div>
      <h1>Counter</h1>
      <p>Count: {count}</p>
      <button onClick={increment}>Increment</button>
      <button onClick={decrement}>Decrement</button>
    </div>
  );
};

export default Counter;
```

```

```
